-- 创建UI容器
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ColoredPlayerName"
screenGui.Parent = game.Players.LocalPlayer.PlayerGui

-- 获取本地玩家
local player = game.Players.LocalPlayer

-- 主面板（透明背景）
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300, 0, 100)
mainFrame.Position = UDim2.new(0.5, -150, 0.1, 0) -- 顶部居中
mainFrame.BackgroundTransparency = 1 -- 完全透明背景
mainFrame.BorderSizePixel = 0 -- 无边框
mainFrame.Parent = screenGui

-- 彩色玩家名字标签
local playerNameLabel = Instance.new("TextLabel")
playerNameLabel.Name = "PlayerNameLabel"
playerNameLabel.Size = UDim2.new(1, 0, 0.7, 0)
playerNameLabel.Position = UDim2.new(0, 0, 0.15, 0)
playerNameLabel.BackgroundTransparency = 1 -- 透明背景
playerNameLabel.Text = player.Name -- 显示玩家名字
playerNameLabel.TextScaled = true -- 自动缩放文本
playerNameLabel.Font = Enum.Font.SourceSansBold -- 加粗字体
playerNameLabel.Parent = mainFrame

-- 彩色效果（通过Tween实现颜色渐变）
local tweenService = game:GetService("TweenService")
local colorInfo = TweenInfo.new(
    2, -- 颜色变化周期（秒）
    Enum.EasingStyle.Linear, -- 线性过渡
    Enum.EasingDirection.InOut,
    -1 -- 无限循环
)

-- 颜色渐变序列（可自定义添加更多颜色）
local colors = {
    Color3.new(1, 0, 0), -- 红
    Color3.new(1, 1, 0), -- 黄
    Color3.new(0, 1, 0), -- 绿
    Color3.new(0, 1, 1), -- 青
    Color3.new(0, 0, 1), -- 蓝
    Color3.new(1, 0, 1), -- 紫
    Color3.new(1, 0, 0) -- 回到红色
}

-- 执行颜色渐变
local currentColorIndex = 1
while true do
    local nextColorIndex = currentColorIndex % #colors + 1
    local tween = tweenService:Create(
        playerNameLabel,
        colorInfo,
        {TextColor3 = colors[nextColorIndex]}
    )
    tween:Play()
    tween.Completed:Wait()
    currentColorIndex = nextColorIndex
end

-- 缩放控制器（右下角）
local resizeHandle = Instance.new("TextButton")
resizeHandle.Name = "ResizeHandle"
resizeHandle.Size = UDim2.new(0, 15, 0, 15)
resizeHandle.Position = UDim2.new(1, -15, 1, -15)
resizeHandle.BackgroundColor3 = Color3.new(0.6, 0.6, 0.6)
resizeHandle.BackgroundTransparency = 0.5 -- 半透明
resizeHandle.Text = ""
resizeHandle.Parent = mainFrame

-- 缩放功能
local isResizing = false
local startMousePos, startSize

resizeHandle.MouseButton1Down:Connect(function(input)
    isResizing = true
    startMousePos = Vector2.new(input.Position.X, input.Position.Y)
    startSize = Vector2.new(mainFrame.AbsoluteSize.X, mainFrame.AbsoluteSize.Y)
end)

game:GetService("UserInputService").InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isResizing = false
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if isResizing and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = Vector2.new(input.Position.X, input.Position.Y) - startMousePos
        local newWidth = math.max(startSize.X + delta.X, 100)
        local newHeight = math.max(startSize.Y + delta.Y, 50)
        mainFrame.Size = UDim2.new(0, newWidth, 0, newHeight)
    end
end)
