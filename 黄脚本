-- ç™½åå•ç³»ç»Ÿé…ç½®
local WHITELIST = {
    [8515693093] = true,
    [6039062907] = true,
    [8080735686] = true,
    [7079287947] = true,
    [7534842829] = true,
    [7686957632] = true,
    [8796556454] = true,
    [8366861724] = true,
    [8909392174] = true,
    [8908667873] = true,
    [7833145231] = true,
    [8894877952] = true,
    [3444667637] = true,
    [8836656383] = true,
    [3688987483] = true,
    [8890747586] = true,
    [4918992874] = true, 
    [8917246767] = true,
    [3290363371] = true,
    [7999887964] = true,
    [7589742339] = true,
    [8866205982] = true,
    [8237450364] = true,
    [5421980555] = true,
    [7098780145] = true,
    [8698220824] = true,
    [7155678576] = true,
    [8718956606] = true,
}

-- åŠ è½½Orionåº“
local OrionLib
local success, err = pcall(function()
    OrionLib = loadstring(game:HttpGet("https://pastebin.com/raw/FUEx0f3G"))()
end)
if not success or not OrionLib then
    warn("Orionåº“åŠ è½½å¤±è´¥: " .. (err or "æœªçŸ¥é”™è¯¯"))
    return
end

-- æœåŠ¡ä¸å˜é‡åˆå§‹åŒ–
local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local player = Players.LocalPlayer

-- ç™½åå•éªŒè¯
if not WHITELIST[player.UserId] then
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "æœªæˆæƒè®¿é—®",
            Text = "æ‚¨çš„IDä¸åœ¨ç™½åå•ä¸­",
            Duration = 5,
            Icon = "rbxassetid://9108657181"
        })
    end)
    local RestrictWindow = OrionLib:MakeWindow({
        Name = "è®¿é—®å—é™",
        Theme = "Dark",
        Icon = "rbxassetid://9108657181"
    })
    local InfoTab = RestrictWindow:MakeTab({Name = "æƒé™ä¸è¶³"})
    InfoTab:AddParagraph("æç¤º", "è¯·åŠ å…¥ç¾¤è”ç³»ç®¡ç†å‘˜æ·»åŠ ç™½åå•")
    InfoTab:AddParagraph("QQç¾¤", "543121803")
    InfoTab:AddParagraph("å¿…é¡»", "è¿›ç¾¤åçœ‹å…¬å‘Š")
    InfoTab:AddParagraph("æ‚¨çš„ID", tostring(player.UserId))
    InfoTab:AddParagraph("è­¦å‘Š", "â†‘ä¸ºä½ çš„ID")
    OrionLib:Init()
    return
end

-- å·¥å…·å‡½æ•°ï¼šåˆ›å»ºåœ†è§’
local function makeRound(obj, radius)
    if obj and obj:IsA("GuiObject") then
        local corner = Instance.new("UICorner")
        corner.CornerRadius = radius or UDim.new(0.5, 0)
        corner.Parent = obj
    end
end

-- åˆ›å»ºä¸»çª—å£
local Window = OrionLib:MakeWindow({
    Name = "æ–°é»„è„šæœ¬",
    SaveConfig = true,
    IntroText = "æ–°é»„è„šæœ¬ - åŠŸèƒ½åŠ è½½å®Œæˆ",
    Theme = "FlatBlue",
    Icon = "rbxassetid://4483345998"
})

-- æ¬¢è¿é€šçŸ¥
pcall(function()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "æ–°é»„è„šæœ¬",
        Text = "æ¬¢è¿ä½¿ç”¨ï¼ŒåŠŸèƒ½å·²å°±ç»ª",
        Duration = 4,
        Icon = "rbxassetid://118894209472715"
    })
end)

-- ä½œè€…ä¿¡æ¯æ ‡ç­¾é¡µ
local AuthorTab = Window:MakeTab({Name = "ä½œè€…ä¿¡æ¯", Icon = "rbxassetid://4483345998"})
AuthorTab:AddParagraph("ä½œè€…", "Hfh916")
AuthorTab:AddParagraph("ä½œè€…QQ", "1357377308")
AuthorTab:AddParagraph("QQç¾¤", "543121803")

-- åœ†å½¢æŒ‰é’®ç”Ÿæˆå™¨
local function addRoundButton(tab, config)
    local btn = tab:AddButton(config)
    if btn.Instance and btn.Instance:IsA("GuiButton") then
        btn.Instance.Size = UDim2.new(0, 120, 0, 36)
        makeRound(btn.Instance)
        
        local hover = Instance.new("UIScale")
        hover.Scale = 1
        hover.Parent = btn.Instance
        
        local enterConn = btn.Instance.MouseEnter:Connect(function() hover.Scale = 1.05 end)
        local leaveConn = btn.Instance.MouseLeave:Connect(function() hover.Scale = 1 end)
        
        btn.Instance.AncestryChanged:Connect(function(_, parent)
            if not parent then
                enterConn:Disconnect()
                leaveConn:Disconnect()
            end
        end)
    end
    return btn
end

-- ä½œè€…ä¿¡æ¯é¡µæŒ‰é’®
addRoundButton(AuthorTab, {
    Name = "å¤åˆ¶ä½œè€…QQ",
    Callback = function()
        if setclipboard then
            setclipboard("1357377308")
            OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "QQå·²å¤åˆ¶", Time = 2})
        end
    end,
    Color = Color3.fromRGB(70, 130, 255)
})

addRoundButton(AuthorTab, {
    Name = "å¤åˆ¶QQç¾¤",
    Callback = function()
        if setclipboard then
            setclipboard("543121803")
            OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "QQç¾¤å·²å¤åˆ¶", Time = 2})
        end
    end,
    Color = Color3.fromRGB(100, 200, 100)
})

-- ç©å®¶ä¿¡æ¯æ ‡ç­¾é¡µ
local PlayerTab = Window:MakeTab({Name = "ç©å®¶ä¿¡æ¯", Icon = "rbxassetid://4483345998"})
local executorName = "æœªçŸ¥"
pcall(function() executorName = identifyexecutor() or "æœªçŸ¥" end)

PlayerTab:AddParagraph("ç”¨æˆ·å", player.Name)
PlayerTab:AddParagraph("ç”¨æˆ·ID", tostring(player.UserId))
PlayerTab:AddParagraph("æ³¨å…¥å™¨", executorName)
PlayerTab:AddParagraph("æœåŠ¡å™¨ID", tostring(game.GameId))
PlayerTab:AddParagraph("ç™½åå•çŠ¶æ€", "ğŸ’VIPğŸ’ç”¨æˆ·")

-- ç©å®¶åŠŸèƒ½æ ‡ç­¾é¡µï¼ˆå«é£è¡ŒåŠŸèƒ½ï¼‰
local FunctionTab = Window:MakeTab({Name = "ç©å®¶åŠŸèƒ½", Icon = "rbxassetid://4483345998"})

-- æ–‡æœ¬æ¡†é…ç½®å‡½æ•°
local function addSettingTextbox(tab, config)
    tab:AddTextbox({
        Name = config.Name,
        Callback = function(Value)
            local num = tonumber(Value)
            if not num or num <= 0 then
                return OrionLib:MakeNotification({Name = "é”™è¯¯", Content = "è¯·è¾“å…¥æ­£æ•°", Time = 2})
            end
            local success, err = pcall(config.Callback, num)
            if not success then
                OrionLib:MakeNotification({Name = "é”™è¯¯", Content = "è®¾ç½®å¤±è´¥: " .. err, Time = 2})
            end
        end
    })
end

-- ç§»åŠ¨è®¾ç½®
addSettingTextbox(FunctionTab, {
    Name = "è·³è·ƒé«˜åº¦",
    Callback = function(num)
        if not player.Character then
            error("è§’è‰²ä¸å­˜åœ¨")
        end
        local humanoid = player.Character:WaitForChild("Humanoid", 5)
        if humanoid then
            humanoid.JumpPower = num
        else
            error("æœªæ‰¾åˆ°Humanoid")
        end
    end
})

addSettingTextbox(FunctionTab, {
    Name = "ç§»åŠ¨é€Ÿåº¦",
    Callback = function(num)
        if not player.Character then
            error("è§’è‰²ä¸å­˜åœ¨")
        end
        local humanoid = player.Character:WaitForChild("Humanoid", 5)
        if humanoid then
            humanoid.WalkSpeed = num
        else
            error("æœªæ‰¾åˆ°Humanoid")
        end
    end
})

-- ç›¸æœºç„¦è·è¾“å…¥è°ƒèŠ‚ï¼ˆè¾“å…¥åè‡ªåŠ¨æ¸…ç©ºï¼‰
local function addCameraTextbox(tab, config)
    local textboxObj
    textboxObj = tab:AddTextbox({
        Name = config.Name,
        Placeholder = config.Placeholder,
        Callback = function(Value)
            local num = tonumber(Value)
            if not num or num < config.Min or num > config.Max then
                return OrionLib:MakeNotification({
                    Name = "é”™è¯¯", 
                    Content = "è¯·è¾“å…¥" .. config.Min .. "-" .. config.Max .. "ä¹‹é—´çš„æ•°å€¼", 
                    Time = 2
                })
            end
            -- æ‰§è¡Œè®¾ç½®
            config.Callback(num)
            -- æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
            OrionLib:MakeNotification({
                Name = "å·²è°ƒæ•´", 
                Content = config.SuccessText .. num, 
                Time = 1.5
            })
            -- æ¸…ç©ºè¾“å…¥æ¡†ï¼ˆåˆ©ç”¨å»¶è¿Ÿç¡®ä¿è®¾ç½®å®Œæˆåå†æ¸…ç©ºï¼‰
            task.delay(0.1, function()
                if textboxObj and textboxObj.Instance then
                    local inputField = textboxObj.Instance:FindFirstChildOfClass("TextBox")
                    if inputField then
                        inputField.Text = ""
                    end
                end
            end)
        end
    })
end

-- æ·»åŠ ç›¸æœºè°ƒèŠ‚åŠŸèƒ½
addCameraTextbox(FunctionTab, {
    Name = "ç›¸æœºæœ€å¤§ç¼©æ”¾è·ç¦»",
    Placeholder = "è¾“å…¥æ•°å€¼ï¼ˆ1-200000ï¼‰",
    Min = 1,
    Max = 200000,
    SuccessText = "æœ€å¤§ç¼©æ”¾è·ç¦»: ",
    Callback = function(num)
        game.Players.LocalPlayer.CameraMaxZoomDistance = num
    end
})

addCameraTextbox(FunctionTab, {
    Name = "ç›¸æœºè§†é‡è§’åº¦ã€æ­£å¸¸70ã€‘",
    Placeholder = "è¾“å…¥æ•°å€¼ï¼ˆ10-120ï¼‰",
    Min = 10,
    Max = 120,
    SuccessText = "è§†é‡è§’åº¦: ",
    Callback = function(num)
        workspace.CurrentCamera.FieldOfView = num
    end
})

-- é£è¡ŒåŠŸèƒ½
addRoundButton(FunctionTab, {
    Name = "é£è¡ŒåŠŸèƒ½",
    Callback = function()
        OrionLib:MakeNotification({Name = "æç¤º", Content = "æ­£åœ¨åŠ è½½é£è¡ŒåŠŸèƒ½...", Time = 3})
        task.spawn(function()
            local success, err = pcall(function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/HXB20111/roblox-/refs/heads/main/%E9%BB%84%E9%A3%9E%E8%A1%8C"))()
            end)
            if success then
                OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "é£è¡ŒåŠŸèƒ½åŠ è½½å®Œæˆ", Time = 3})
            else
                OrionLib:MakeNotification({Name = "å¤±è´¥", Content = "åŠ è½½é”™è¯¯: " .. err, Time = 3})
            end
        end)
    end,
    Color = Color3.fromRGB(135, 206, 235)
})

-- å¤œè§†æ¨¡å¼
FunctionTab:AddToggle({
    Name = "å¤œè§†æ¨¡å¼",
    Default = false,
    Callback = function(enabled)
        Lighting.Ambient = enabled and Color3.new(0.5, 0.5, 0.5) or Color3.new(0, 0, 0)
        Lighting.Brightness = enabled and 2 or 1
    end,
    Color = Color3.fromRGB(255, 165, 0)
})

-- ç©¿å¢™æ¨¡å¼
local Clipon = false
local Stepped

FunctionTab:AddToggle({
    Name = "ç©¿å¢™æ¨¡å¼",
    Default = false,
    Callback = function(enabled)
        Clipon = enabled
        local Workspace = game:GetService("Workspace")
        local Players = game:GetService("Players")
        
        -- æ–­å¼€å·²æœ‰è¿æ¥ï¼Œé¿å…é‡å¤è¿è¡Œ
        if Stepped then
            Stepped:Disconnect()
        end
        
        if enabled then
            -- å¼€å¯ç©¿å¢™ï¼šå¾ªç¯ç¦ç”¨è§’è‰²æ‰€æœ‰éƒ¨ä»¶çš„ç¢°æ’
            Stepped = game:GetService("RunService").Stepped:Connect(function()
                if Clipon then
                    local playerChar = Workspace:FindFirstChild(Players.LocalPlayer.Name)
                    if playerChar then
                        for _, part in pairs(playerChar:GetChildren()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end
                    end
                else
                    Stepped:Disconnect()
                end
            end)
            OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "ç©¿å¢™æ¨¡å¼å·²å¼€å¯", Time = 2})
        else
            -- å…³é—­ç©¿å¢™ï¼šæ¢å¤è§’è‰²éƒ¨ä»¶ç¢°æ’
            local playerChar = Workspace:FindFirstChild(Players.LocalPlayer.Name)
            if playerChar then
                for _, part in pairs(playerChar:GetChildren()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = true
                    end
                end
            end
            OrionLib:MakeNotification({Name = "æç¤º", Content = "ç©¿å¢™æ¨¡å¼å·²å…³é—­", Time = 2})
        end
    end,
    Color = Color3.fromRGB(100, 149, 237)
})

-- è„šæœ¬ä¸­å¿ƒæ ‡ç­¾é¡µ
local ScriptCenterTab = Window:MakeTab({Name = "è„šæœ¬ä¸­å¿ƒ", Icon = "rbxassetid://4483346000"})

-- çš®è„šæœ¬
addRoundButton(ScriptCenterTab, {
    Name = "åŠ è½½çš®è„šæœ¬",
    Callback = function()
        OrionLib:MakeNotification({Name = "æç¤º", Content = "æ­£åœ¨åŠ è½½...", Time = 3})
        task.spawn(function()
            local success, err = pcall(function()
                getgenv().XiaoPi = "çš®è„šæœ¬QQç¾¤1002100032"
                loadstring(game:HttpGet("https://raw.githubusercontent.com/xiaopi77/xiaopi77/main/QQ1002100032-Roblox-Pi-script.lua", true))()
            end)
            if success then
                OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "åŠ è½½å®Œæˆ", Time = 3})
            else
                OrionLib:MakeNotification({Name = "å¤±è´¥", Content = "é”™è¯¯: " .. err, Time = 3})
            end
        end)
    end,
    Color = Color3.fromRGB(123, 104, 238)
})

-- å¯¼ç®¡ä¸­å¿ƒ
addRoundButton(ScriptCenterTab, {
    Name = "åŠ è½½å¯¼ç®¡ä¸­å¿ƒ",
    Callback = function()
        OrionLib:MakeNotification({Name = "æç¤º", Content = "æ­£åœ¨åŠ è½½å¯¼ç®¡ä¸­å¿ƒ...", Time = 3})
        task.spawn(function()
            local success, err = pcall(function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/useranewrff/roblox-/main/%E7%AE%A1%E7%AE%80%E5%8D%E8%A3%E8%81%94"))()
            end)
            if success then
                OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "å¯¼ç®¡ä¸­å¿ƒåŠ è½½å®Œæˆ", Time = 3})
            else
                OrionLib:MakeNotification({Name = "å¤±è´¥", Content = "é”™è¯¯: " .. err, Time = 3})
            end
        end)
    end,
    Color = Color3.fromRGB(255, 99, 71)
})

-- è½å¶ä¸­å¿ƒ
addRoundButton(ScriptCenterTab, {
    Name = "åŠ è½½è½å¶ä¸­å¿ƒ",
    Callback = function()
        OrionLib:MakeNotification({Name = "æç¤º", Content = "æ­£åœ¨åŠ è½½è½å¶ä¸­å¿ƒ...", Time = 3})
        task.spawn(function()
            local success, err = pcall(function()
                getgenv().LS = "è½å¶ä¸­å¿ƒ"
                loadstring(game:HttpGet("https://raw.githubusercontent.com/krlpl/Deciduous-center-LS/main/%E8%90%BD%E5%8F%B6%E4%B8%AD%E5%BF%83%E6%B7%B7%E6%B7%86.txt"))()
            end)
            if success then
                OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "è½å¶ä¸­å¿ƒåŠ è½½å®Œæˆ", Time = 3})
            else
                OrionLib:MakeNotification({Name = "å¤±è´¥", Content = "é”™è¯¯: " .. err, Time = 3})
            end
        end)
    end,
    Color = Color3.fromRGB(139, 69, 19)
})

-- éœ–æºº-å…è´¹ç‰ˆåŠ è½½å™¨
addRoundButton(ScriptCenterTab, {
    Name = "åŠ è½½éœ–æººè„šæœ¬",
    Callback = function()
        OrionLib:MakeNotification({Name = "æç¤º", Content = "æ­£åœ¨åŠ è½½éœ–æºº-å…è´¹ç‰ˆåŠ è½½å™¨...", Time = 3})
        task.spawn(function()
            local success, err = pcall(function()
                getgenv().LnScript = "éœ–æºº-å…è´¹ç‰ˆåŠ è½½å™¨"
                loadstring(game:HttpGet("https://raw.githubusercontent.com/ShenJiaoBen/ScriptLoader/refs/heads/main/Linni_FreeLoader.lua"))()
            end)
            if success then
                OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "éœ–æºº-å…è´¹ç‰ˆåŠ è½½å™¨åŠ è½½å®Œæˆ", Time = 3})
            else
                OrionLib:MakeNotification({Name = "å¤±è´¥", Content = "é”™è¯¯: " .. err, Time = 3})
            end
        end)
    end,
    Color = Color3.fromRGB(70, 200, 200)
})

-- å¶â˜˜ï¸è„šæœ¬
addRoundButton(ScriptCenterTab, {
    Name = "åŠ è½½å¶â˜˜ï¸è„šæœ¬",
    Callback = function()
        OrionLib:MakeNotification({Name = "æç¤º", Content = "æ­£åœ¨åŠ è½½å¶â˜˜ï¸è„šæœ¬...", Time = 3})
        task.spawn(function()
            local success, err = pcall(function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/roblox-ye/QQ515966991/refs/heads/main/ROBLOX-CNVIP-XIAOYE.lua"))()
            end)
            if success then
                OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "å¶â˜˜ï¸è„šæœ¬åŠ è½½å®Œæˆ", Time = 3})
            else
                OrionLib:MakeNotification({Name = "å¤±è´¥", Content = "é”™è¯¯: " .. err, Time = 3})
            end
        end)
    end,
    Color = Color3.fromRGB(123, 200, 91)
})

-- åˆ¹ğŸ—¡è„šæœ¬
addRoundButton(ScriptCenterTab, {
    Name = "åŠ è½½åˆ¹ğŸ—¡è„šæœ¬",
    Callback = function()
        OrionLib:MakeNotification({Name = "æç¤º", Content = "æ­£åœ¨åŠ è½½åˆ¹ğŸ—¡è„šæœ¬...", Time = 3})
        task.spawn(function()
            local success, err = pcall(function()
                getgenv().FwngYu = "æ®ºè„šæœ¬ QQç¾¤819104139"
                loadstring(game:HttpGet("https://raw.githubusercontent.com/FengYu-3/FengY4/refs/heads/main/shascript.lua"))()
            end)
            if success then
                OrionLib:MakeNotification({Name = "æˆåŠŸ", Content = "åˆ¹ğŸ—¡è„šæœ¬åŠ è½½å®Œæˆ", Time = 3})
            else
                OrionLib:MakeNotification({Name = "å¤±è´¥", Content = "é”™è¯¯: " .. err, Time = 3})
            end
        end)
    end,
    Color = Color3.fromRGB(200, 70, 70)
})

-- åˆå§‹åŒ–ç•Œé¢
OrionLib:Init()

-- æ ·å¼ä¼˜åŒ–
task.delay(0.3, function()
    local mainFrame = Window.Instance:FindFirstChild("MainFrame", true)
    if mainFrame then
        makeRound(mainFrame, UDim.new(0.08, 0))
    end
end)

-- æ¸…ç†å‡½æ•°
local function cleanUp()
    if Window and Window.Instance then
        Window.Instance:Destroy()
    end
    Lighting.Ambient = Color3.new(0, 0, 0)
    Lighting.Brightness = 1
end
